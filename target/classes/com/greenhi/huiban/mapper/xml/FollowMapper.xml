<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.greenhi.huiban.mapper.FollowMapper">
    <resultMap id="followMap" type="com.greenhi.huiban.entity.Conference">
        <id column="id" property="id"/>
        <result column="name" property="name"/>
        <result column="short_name" property="shortName"/>
        <result column="due_date" property="dueDate"/>
        <result column="info_date" property="infoDate"/>
        <result column="meeting_date" property="meetingDate"/>
        <result column="delay" property="delay"/>
        <result column="location" property="location"/>
        <result column="session" property="session"/>
        <result column="views" property="views"/>
        <result column="follows" property="follows"/>
        <result column="joins" property="joins"/>
        <result column="theme" property="theme"/>
        <result column="CCF_level" property="CCFLevel"/>
        <result column="CORE_level" property="CORELevel"/>
        <result column="QUALIS_level" property="QUALISLevel"/>
        <result column="introduction" property="introduction"/>
        <result column="impact_factor" property="impactFactor"/>
        <result column="publisher" property="publisher"/>
        <result column="issn" property="issn"/>
        <result column="link" property="link"/>
        <result column="type" property="type"/>
    </resultMap>

    <delete id="deleteByUidAndCid" parameterType="java.lang.Integer">
        delete from follow where uid=#{uid} and cid=#{cid}
    </delete>

    <select id="selectByUidCon" resultMap="followMap">
        select m.id,name,short_name,due_date,info_date,meeting_date,delay,location,session,views,follows,joins,theme,CCF_level,CORE_level,QUALIS_level,introduction,impact_factor,publisher,issn,link,type
        from follow f
        inner join conference m
        on f.cid=m.id
        where f.uid=#{uid} and m.type=0
    </select>

    <select id="selectByUidJor" resultMap="followMap">
        select m.id,name,short_name,due_date,info_date,meeting_date,delay,location,session,views,follows,joins,theme,CCF_level,CORE_level,QUALIS_level,introduction,impact_factor,publisher,issn,link,type
        from follow f
        inner join conference m
        on f.cid=m.id
        where f.uid=#{uid} and m.type=1
    </select>

<!--    <select id="selectByMid" resultMap="followMap">-->
<!--        select id,user_name,occupation,sex,brief_introduction-->
<!--        from follow f-->
<!--        inner join user u-->
<!--        on f.uid=u.id-->
<!--        where f.fid=#{fid}-->
<!--    </select>-->
</mapper>
